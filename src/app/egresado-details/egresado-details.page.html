<!--Header-->
<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Detalles Egresado</ion-title>
    <ion-buttons slot="end">
      <ion-button [strong]="true" (click)="confirm()">Cerrar</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<!--Content-->
<ion-content [fullscreen]="true">
  <ion-header collapse="condense" mode="md">
    <ion-toolbar>
      <ion-title size="large">Detalle del Egresado</ion-title>
    </ion-toolbar>
  </ion-header>
  <!-- content Egresado -->
  <app-loader [isLoading]="loading"></app-loader>

  <ion-content *ngIf="!loading">
    <!--Grid -->
    <ion-grid class="content-details">
      <ion-col>
        <!--Imagen De perfil-->
        <ion-img class="profil-imagen" src="{{egresado.profilePicUrl || 'assets/img/profile/profile-icon.webp'}}">
        </ion-img>
      </ion-col>
      <!--Informacion Personal-->
      <ion-col>
        <div class="info-persomal">
          <ion-row>
            <ion-text>
              <h3>
                {{egresado.Nombre}} {{egresado.ApellidoPaterno}}
                {{egresado.ApellidoMaterno}}
              </h3>
              <span class="muted spaced-text">
                {{this.helperService.getLatestPosition(egresado)}}
              </span>
            </ion-text>
          </ion-row>
          <ion-row></ion-row>
          <div class="info-persomal-grid">
            <ion-text>
              <span class="muted spaced-text">
                {{this.helperService.getAge(this.egresado.FechaNac)}} años
              </span>
            </ion-text>
            <span class="muted spaced-text">
              <span *ngFor="let direccion of egresado.direccionEgresado">
                <ion-icon name="location-sharp"></ion-icon>
                {{direccion.provincia}}
              </span>
            </span>
          </div>
        </div>
        <span *ngIf="egresado.destacado" class="star">
          <ion-icon name="star"></ion-icon>
        </span>
      </ion-col>
    </ion-grid>
    <!--Card About-->
    <ion-card>
      <ion-card-header>
        <ion-card-title class="bold">About</ion-card-title>
        <ion-card-subtitle>{{egresado.Nombre}}</ion-card-subtitle>
      </ion-card-header>
      <!--Card Contenido -->
      <ion-card-content *ngIf="!egresado.about.length">
        Este usuario no tiene About definido
      </ion-card-content>
      <ion-card-content> {{egresado.about}} </ion-card-content>
    </ion-card>
    <!--Grid de Habilidades-->
    <div class="titulo">
      <h3 class="bold">Habilidades</h3>
    </div>
    <ion-grid class="chip">
      <ion-row>
        <ion-text *ngIf="!egresado.egresadosHabilidad.length ">
          Este usuario no tiene Habilidades definidas
        </ion-text>
        <ion-col *ngFor="let habilidad of egresado.egresadosHabilidad">
          <ion-chip>
            <ion-label>{{habilidad.habilidad}}</ion-label>
          </ion-chip>
        </ion-col>
      </ion-row>
    </ion-grid>
    <!--Card Experiencia-->
    <ion-card>
      <ion-card-header>
        <ion-card-title class="bold">Experiencias</ion-card-title>
        <ion-card-subtitle>Experiencias Laborales</ion-card-subtitle>
      </ion-card-header>
      <!--Card Contenido -->
      <ion-card-content *ngIf="!egresado.experienciaLaboralEgresado.length">
        Este usuario no tiene Experiencias Laboraless definidas
      </ion-card-content>
      <ion-card-content>
        <ion-grid>
          <ion-row *ngFor="let experiencia of egresado.experienciaLaboralEgresado">
            <ion-col>
              <ion-row>
                <ion-text>
                  <h3>{{experiencia.empresa}} - {{experiencia.posicion}}</h3>
                  <span>
                    {{experiencia.FechaEntr }} | {{experiencia.FechaSal ||'Actualidad' }}
                  </span>
                </ion-text>
              </ion-row>
            </ion-col>
          </ion-row>
          <ion-row> </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>
    <!--Card Educacion-->

    <!-- Card Contenido -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="book" class="bold"></ion-icon>
          Educacion
        </ion-card-title>
        <ion-card-subtitle>Títulos y Certificaciones</ion-card-subtitle>
      </ion-card-header>
      <!--Card Contenido -->
      <ion-card-content *ngIf="!egresado.educacion.length">
        Este usuario no tiene La Educacion definida
      </ion-card-content>
      <ion-card-content *ngFor=" let educacion of egresado.educacion" >
        <h3>{{educacion.Titulo}}</h3>
        <ion-text>
          <span>{{educacion.Universidad}}</span>
          <br />
          <span>{{educacion.FechaEntr}} | {{educacion.FechaSal || 'Actualidad'}}
          </span>
        </ion-text>
      </ion-card-content>
    </ion-card>
    <!--Seccion Idioma-->
    <div class="titulo bold">
      <h3><ion-icon name="language"></ion-icon> Idiomas</h3>
    </div>
    <ion-grid class="chip">
      <ion-row>
        <ion-text *ngIf="!egresado.idiomaEgresado.length">
          Este usuario no tiene el Idiomas definidos
        </ion-text>
        <ion-col *ngFor="let idiaomas of egresado.idiomaEgresado">
          <ion-chip>
            <ion-icon name="chatbubbles-outline" color="primary"></ion-icon>
            <ion-label>{{idiaomas.idioma}}</ion-label>
          </ion-chip>
        </ion-col>
      </ion-row>
    </ion-grid>
    <!-- Seccion Nacionalidad -->
    <div class="titulo bold">
      <h3>
        <ion-icon name="globe-outline" class="bold"></ion-icon>
        Nacionalidad
      </h3>
    </div>
    <ion-grid class="chip">
      <ion-row>
        <ion-text *ngIf="!egresado.nacionalidadEgresado.length">
          Este usuario no tiene Nacionalidad definidas
        </ion-text>
        <ion-col *ngFor="let nacionalidad of egresado.nacionalidadEgresado">
          <ion-chip>
            <ion-icon name="flag-outline" color="primary"></ion-icon>
            <ion-label>{{nacionalidad.nacionalidad}}</ion-label>
          </ion-chip>
        </ion-col>
      </ion-row>
    </ion-grid>
    <!--Contactos-->
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="call" class="bold"></ion-icon>
          Contactos
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-grid>
          <ion-text *ngIf="!egresado.contacto.length">
            Este usuario no tiene Contactos definidos
          </ion-text>
          <ion-row *ngFor="let contactos of egresado.contacto">
            <ion-col>
              <span *ngIf="contactos.tipo !== 'EMAIL' else emailType " class="bold">
                {{contactos.valor | mask:'000-000-0000'}}
              </span>
              <ng-template #emailType>
                <span class="bold">
                  {{contactos.valor}}
                </span>
              </ng-template>
              <h3>{{contactos.tipo | titlecase}}</h3>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>
  </ion-content>
</ion-content>